<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/dendron-emi/favicon.ico"/><title>Hugo</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal Knowledge Space"/><meta property="og:title" content="Hugo"/><meta property="og:description" content="Personal Knowledge Space"/><meta property="og:url" content="https://earth-metabolome-initiative.github.io/dendron-emi/notes/b72s2o287supid1wnu0o30i/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="10/16/2024"/><meta property="article:modified_time" content="10/21/2024"/><link rel="canonical" href="https://earth-metabolome-initiative.github.io/dendron-emi/notes/b72s2o287supid1wnu0o30i/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/dendron-emi/_next/static/css/5dce779fc0364c89.css" as="style"/><link rel="stylesheet" href="/dendron-emi/_next/static/css/5dce779fc0364c89.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/dendron-emi/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/dendron-emi/_next/static/chunks/webpack-3b2effb084faf656.js" defer=""></script><script src="/dendron-emi/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/dendron-emi/_next/static/chunks/main-14d1e5d58eb5de90.js" defer=""></script><script src="/dendron-emi/_next/static/chunks/pages/_app-04d7c1e3d3de408a.js" defer=""></script><script src="/dendron-emi/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/dendron-emi/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/dendron-emi/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/dendron-emi/_next/static/mg4gUYzPgp4Fi2pR6ElfI/_buildManifest.js" defer=""></script><script src="/dendron-emi/_next/static/mg4gUYzPgp4Fi2pR6ElfI/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="hugo">Hugo<a aria-hidden="true" class="anchor-heading icon-link" href="#hugo"></a></h1>
<ul>
<li>
<p>Looking into <a href="https://nickballou.com/blog/custom-wowchemy/">https://nickballou.com/blog/custom-wowchemy/</a> </p>
</li>
<li>
<p>The idea is to replicate the membership page of the Open Traits Network (<a href="https://opentraits.org/members/">https://opentraits.org/members/</a>) on the EMI website.</p>
</li>
</ul>
<p>Looking for old li_compact.html files </p>
<ul>
<li><a href="https://github.com/forrtproject/forrtproject.github.io/tree/eb55900da7da50390ca23a929794fde9073c7df5">https://github.com/forrtproject/forrtproject.github.io/tree/eb55900da7da50390ca23a929794fde9073c7df5</a></li>
</ul>
<p>This whole story turns out to be a bit more complicated than I thought. I will need to spend more time on this.</p>
<p>First it seems that the wowchemy is now hugo blox.
Second Hugo blox is not compatible with the latest version of Hugo.</p>
<p>Switching hugo version is not has straightforward.
Installing a specific version neither.</p>
<p><a href="https://www.gigigatgat.ca/en/posts/install-specific-hugo-version/">https://www.gigigatgat.ca/en/posts/install-specific-hugo-version/</a></p>
<p><a href="https://github.com/gohugoio/hugo/releases/tag/v0.121.1">https://github.com/gohugoio/hugo/releases/tag/v0.121.1</a></p>
<p>/Users/pma/.gem/ruby/3.3.5/bin:/Users/pma/.rubies/ruby-3.3.5/lib/ruby/gems/3.3.0/bin:/Users/pma/.rubies/ruby-3.3.5/bin:/Users/pma/.pyenv/shims:/Users/pma/.nvm/versions/node/v17.8.0/bin:/Users/pma/.yarn/bin:/Users/pma/.config/yarn/global/node_modules/.bin:/Users/pma/.rbenv/shims:/Users/pma/.cargo/bin:/Users/pma/.local/bin:/usr/local/bin:/bin:/sbin:/usr/local/sbin:/usr/local/bin:/usr/local/texlive/2023/bin/universal-darwin:/Users/pma/bin:/usr/local/bin:/Users/pma/mambaforge/lib/python3.9/site-packages:/usr/local/texlive/2023/bin/universal-darwin:/Users/pma/.nvm/versions/node/v17.8.0/bin:/Users/pma/.yarn/bin:/Users/pma/.config/yarn/global/node_modules/.bin:/Users/pma/.rbenv/shims:/Users/pma/.cargo/bin:/Users/pma/.local/bin:/Users/pma/mambaforge/bin:/Users/pma/mambaforge/condabin:/usr/local/bin:/bin:/sbin:/usr/local/sbin:/usr/local/bin:/usr/local/texlive/2023/bin/universal-darwin:/Users/pma/bin:/usr/local/bin:/Users/pma/mambaforge/lib/python3.9/site-packages:/usr/local/texlive/2023/bin/universal-darwin:/opt/local/bin:/opt/local/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/opt/X11/bin:/usr/local/share/dotnet:~/.dotnet/tools:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Applications/quarto/bin:/Applications/iTerm.app/Contents/Resources/utilities</p>
<p>How to embedd a map </p>
<p><a href="https://blog.gpkb.org/posts/hugo-static-site-maps/">https://blog.gpkb.org/posts/hugo-static-site-maps/</a></p>
<p>7.114334,46.777595,7.197247,46.822506</p>
<p>pmtiles extract \
<a href="https://build.protomaps.com/20241014.pmtiles">https://build.protomaps.com/20241014.pmtiles</a> \
mymap.pmtiles \
--bbox=7.114334,46.777595,7.197247,46.822506</p>
<p><a href="https://osgav.run/">https://osgav.run/</a></p>
<p>Hinode theme has a leaflet module <a href="https://gethinode.com/docs/getting-started/introduction/">https://gethinode.com/docs/getting-started/introduction/</a></p>
<p>My leaflet-map.js</p>
<p>const attribution = '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
const tile = '<a href="https://tile.openstreetmap.org/%7Bz%7D/%7Bx%7D/%7By%7D.png&#x27;">https://tile.openstreetmap.org/{z}/{x}/{y}.png'</a></p>
<p>document.querySelectorAll('div.leaflet-map').forEach(map => {
const viewLat = map.getAttribute('data-leaflet-view-lat')
const viewLong = map.getAttribute('data-leaflet-view-long')
const zoom = map.getAttribute('data-leaflet-view-zoom')
const popup = map.getAttribute('data-leaflet-popup-caption')
const popupLat = map.getAttribute('data-leaflet-popup-lat')
const popupLong = map.getAttribute('data-leaflet-popup-long')
const view = [viewLat, viewLong]</p>
<p>  if (viewLat === null || viewLong === null || zoom === null) {
console.error('leaflet-map.js: expected lat, long, and zoom')
} else {
const bind = L.map(map).setView(view, zoom)
L.tileLayer(tile, { attribution }).addTo(bind)</p>
<pre><code>if (popup !== null &#x26;&#x26; popupLat !== null &#x26;&#x26; popupLong !== null) {
  L.marker([popupLat, popupLong]).addTo(bind)
    .bindPopup(popup)
    .openPopup()
}
</code></pre>
<p>  }
})</p>
<p>My layout/partial/assets/map.html</p>
<!-- 
    Copyright © 2024 The Hinode Team / Mark Dumay. All rights reserved.
    Use of this source code is governed by The MIT License (MIT) that can be found in the LICENSE file.
    Visit gethinode.com/license for more details.
-->
<p>{{ $error := false }}</p>
<!-- Validate arguments -->
<p>{{ if partial "utilities/IsInvalidArgs.html" (dict "structure" "map" "args" .Params) }}
{{ errorf "Invalid arguments: %s" .Position -}}
{{ $error = true }}
{{ end }}</p>
<!-- Initialize arguments -->
<p>{{- $id := printf "leaflet-map-%d" .Ordinal -}}
{{ with index . "id" }}
{{ $id = . }}
{{ end }}</p>
<p>{{ $class := index . "class" | default "ratio ratio-16x9 w-100 mx-auto" }}</p>
<p>{{ $error := false }}
{{ $viewLat := 52.377 }}
{{ $viewLong := 4.90 }}
{{ $zoom := 13 }}
{{ $popup := "" }}
{{ $popupLat := ""  }}
{{ $popupLong := "" }}</p>
<p>{{- with index . "lat" }}{{ $viewLat = . }}{{ end -}}
{{- with index . "long" }}{{ $viewLong = . }}{{ end -}}
{{- with index . "zoom" }}{{ $zoom = . }}{{ end -}}
{{- with index . "popup" }}{{ $popup = . }}{{ end -}}
{{- with index . "popup-lat" }}{{ $popupLat = . }}{{ end -}}
{{- with index . "popup-long" }}{{ $popupLong = . }}{{ end -}}</p>
<!-- Main code -->
<p>{{- if not $error -}}</p>
<pre><code>&#x3C;div id="{{ $id }}" class="leaflet-map {{ $class }}"
    {{ with $viewLat }}data-leaflet-view-lat="{{ . }}"{{ end }}
    {{ with $viewLong }}data-leaflet-view-long="{{ . }}"{{ end }}
    {{ with $zoom }}data-leaflet-view-zoom="{{ . }}"{{ end }}
    {{ with $popup }}data-leaflet-popup-caption="{{ . }}"{{ end }}
    {{ with $popupLat }}data-leaflet-popup-lat="{{ . }}"{{ end }}
    {{ with $popupLong }}data-leaflet-popup-long="{{ . }}"{{ end }}>
&#x3C;/div>
</code></pre>
<p>{{- end -}}</p>
<h6 id=""><a aria-hidden="true" class="anchor-heading icon-link" href="#"></a></h6>
<p>Frontmatter in a content file</p>
<pre class="language-yaml"><code class="language-yaml">
<span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> Pierre<span class="token punctuation">-</span>Marie Allard
<span class="token key atrule">firstname</span><span class="token punctuation">:</span> Pierre<span class="token punctuation">-</span>Marie
<span class="token key atrule">lastname</span><span class="token punctuation">:</span> Allard
<span class="token key atrule">institution</span><span class="token punctuation">:</span> COMMONS Lab<span class="token punctuation">,</span> Department of Biology<span class="token punctuation">,</span> University of Fribourg<span class="token punctuation">,</span> Switzerland
<span class="token key atrule">email</span><span class="token punctuation">:</span> pierre<span class="token punctuation">-</span>marie.allard@unifr.ch
<span class="token key atrule">orcid</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//orcid.org/0000<span class="token punctuation">-</span>0003<span class="token punctuation">-</span>3389<span class="token punctuation">-</span><span class="token number">2191</span>
<span class="token key atrule">wikidata</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.wikidata.org/wiki/Q56451301
<span class="token key atrule">scholia</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//scholia.toolforge.org/author/Q56451301
<span class="token key atrule">thumbnail</span><span class="token punctuation">:</span>
  <span class="token key atrule">url</span><span class="token punctuation">:</span> /img/sunrise.jpg
  <span class="token key atrule">author</span><span class="token punctuation">:</span> Harris Vo
  <span class="token key atrule">authorURL</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//unsplash.com/@hoanvokim
  <span class="token key atrule">origin</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//unsplash.com/photos/ZX6BPboJrYk
  <span class="token key atrule">originName</span><span class="token punctuation">:</span> Unsplash
<span class="token key atrule">modules</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"leaflet"</span><span class="token punctuation">]</span>
<span class="token key atrule">latitude</span><span class="token punctuation">:</span> <span class="token number">52.377</span>
<span class="token key atrule">longitude</span><span class="token punctuation">:</span> <span class="token number">4.900</span>
<span class="token key atrule">popup</span><span class="token punctuation">:</span> <span class="token string">"Amsterdam Central Station is it here?"</span>
<span class="token key atrule">type</span><span class="token punctuation">:</span> members
<span class="token punctuation">---</span>

</code></pre>
<p>Such file in layouts/members/single/body.html</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&#x3C;!-- Left column: Member Information --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col-md-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      {{- /* Display Member Information */ -}}
      {{ with .Params.author }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author-entry display-4 mb-3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>strong</span><span class="token punctuation">></span></span>{{ . }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>strong</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
      {{ end }}
  
      {{- /* Display Institution, Email, ORCID, Wikidata, and Scholia */ -}}
      {{ with .Params }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>metadata-list list-unstyled<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          {{ with .institution }}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>strong</span><span class="token punctuation">></span></span>Institution or place of work:<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>strong</span><span class="token punctuation">></span></span> {{ . }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
          {{ end }}
          {{ with .email }}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>strong</span><span class="token punctuation">></span></span>Email:<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>strong</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mailto:{{ . }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ . }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
          {{ end }}
          {{ with .orcid }}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>strong</span><span class="token punctuation">></span></span>ORCID:<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>strong</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ . }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ . }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
          {{ end }}
          {{ with .wikidata }}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>strong</span><span class="token punctuation">></span></span>Wikidata:<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>strong</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ . }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ . }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
          {{ end }}
          {{ with .scholia }}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>strong</span><span class="token punctuation">></span></span>Scholia:<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>strong</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ . }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ . }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
          {{ end }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
      {{ end }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
  
    <span class="token comment">&#x3C;!-- Right column: Thumbnail Image --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col-md-4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      {{- /* Extract thumbnail information */ -}}
      {{ with .Params.thumbnail }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post-thumbnail mb-5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ .url }}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Thumbnail<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img-fluid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>thumbnail-attribution<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            Photo by <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ .authorURL }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ .author }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span> on 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ .origin }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ .originName }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
      {{ end }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
  
  <span class="token comment">&#x3C;!-- Map Section --></span>
  {{- /* Render the Map using the Leaflet map partial */ -}}
  {{ with .Params }}
    {{ if and .latitude .longitude .popup }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map-container mb-5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        {{ partial "assets/map.html" (dict "lat" .latitude "long" .longitude "popup" .popup "popup-lat" .latitude "popup-long" .longitude) }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
    {{ end }}
  {{ end }}

  
  
  {{- /* Render the rest of the content */ -}}
  {{ partial "utilities/ProcessContent" (dict "page" .Page "raw" .RawContent) }}
</code></pre>
<p>and layouts/partials/assets/map.html</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&#x3C;!-- 
    Copyright © 2024 The Hinode Team / Mark Dumay. All rights reserved.
    Use of this source code is governed by The MIT License (MIT) that can be found in the LICENSE file.
    Visit gethinode.com/license for more details.
--></span>

{{ $error := false }}

<span class="token comment">&#x3C;!-- Validate arguments --></span>
{{ if partial "utilities/IsInvalidArgs.html" (dict "structure" "map" "args" .Params) }}
    {{ errorf "Invalid arguments: %s" .Position -}}
    {{ $error = true }}
{{ end }}

<span class="token comment">&#x3C;!-- Initialize arguments --></span>

{{- $id := printf "leaflet-map-%d" .Ordinal -}}
{{ with index . "id" }}
    {{ $id = . }}
{{ end }}

{{ $class := index . "class" | default "ratio ratio-16x9 w-100 mx-auto" }}

{{ $error := false }}
{{ $viewLat := 52.377 }}
{{ $viewLong := 4.90 }}
{{ $zoom := 13 }}
{{ $popup := "" }}
{{ $popupLat := ""  }}
{{ $popupLong := "" }}

{{- with index . "lat" }}{{ $viewLat = . }}{{ end -}}
{{- with index . "long" }}{{ $viewLong = . }}{{ end -}}
{{- with index . "zoom" }}{{ $zoom = . }}{{ end -}}
{{- with index . "popup" }}{{ $popup = . }}{{ end -}}
{{- with index . "popup-lat" }}{{ $popupLat = . }}{{ end -}}
{{- with index . "popup-long" }}{{ $popupLong = . }}{{ end -}}

<span class="token comment">&#x3C;!-- Main code --></span>
{{- if not $error -}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ $id }}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>leaflet-map {{ $class }}<span class="token punctuation">"</span></span>
        <span class="token attr-name">{{</span> <span class="token attr-name">with</span> <span class="token attr-name">$viewLat</span> <span class="token attr-name">}}data-leaflet-view-lat</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ . }}<span class="token punctuation">"</span></span><span class="token attr-name">{{</span> <span class="token attr-name">end</span> <span class="token attr-name">}}</span>
        <span class="token attr-name">{{</span> <span class="token attr-name">with</span> <span class="token attr-name">$viewLong</span> <span class="token attr-name">}}data-leaflet-view-long</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ . }}<span class="token punctuation">"</span></span><span class="token attr-name">{{</span> <span class="token attr-name">end</span> <span class="token attr-name">}}</span>
        <span class="token attr-name">{{</span> <span class="token attr-name">with</span> <span class="token attr-name">$zoom</span> <span class="token attr-name">}}data-leaflet-view-zoom</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ . }}<span class="token punctuation">"</span></span><span class="token attr-name">{{</span> <span class="token attr-name">end</span> <span class="token attr-name">}}</span>
        <span class="token attr-name">{{</span> <span class="token attr-name">with</span> <span class="token attr-name">$popup</span> <span class="token attr-name">}}data-leaflet-popup-caption</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ . }}<span class="token punctuation">"</span></span><span class="token attr-name">{{</span> <span class="token attr-name">end</span> <span class="token attr-name">}}</span>
        <span class="token attr-name">{{</span> <span class="token attr-name">with</span> <span class="token attr-name">$popupLat</span> <span class="token attr-name">}}data-leaflet-popup-lat</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ . }}<span class="token punctuation">"</span></span><span class="token attr-name">{{</span> <span class="token attr-name">end</span> <span class="token attr-name">}}</span>
        <span class="token attr-name">{{</span> <span class="token attr-name">with</span> <span class="token attr-name">$popupLong</span> <span class="token attr-name">}}data-leaflet-popup-long</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ . }}<span class="token punctuation">"</span></span><span class="token attr-name">{{</span> <span class="token attr-name">end</span> <span class="token attr-name">}}</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
{{- end -}}
</code></pre>
<p>My leaflet-map.js </p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> attribution <span class="token operator">=</span> <span class="token string">'&#x26;copy; &#x3C;a href="https://www.openstreetmap.org/copyright">OpenStreetMap&#x3C;/a> contributors'</span>
<span class="token keyword">const</span> tile <span class="token operator">=</span> <span class="token string">'https://tile.openstreetmap.org/{z}/{x}/{y}.png'</span>

<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div.leaflet-map'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">map</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> viewLat <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token method function property-access">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-leaflet-view-lat'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> viewLong <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token method function property-access">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-leaflet-view-long'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> zoom <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token method function property-access">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-leaflet-view-zoom'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> popup <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token method function property-access">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-leaflet-popup-caption'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> popupLat <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token method function property-access">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-leaflet-popup-lat'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> popupLong <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token method function property-access">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-leaflet-popup-long'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token punctuation">[</span>viewLat<span class="token punctuation">,</span> viewLong<span class="token punctuation">]</span>

  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>viewLat <span class="token operator">===</span> <span class="token keyword null nil">null</span> <span class="token operator">||</span> viewLong <span class="token operator">===</span> <span class="token keyword null nil">null</span> <span class="token operator">||</span> zoom <span class="token operator">===</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'leaflet-map.js: expected lat, long, and zoom'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> bind <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">setView</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> zoom<span class="token punctuation">)</span>
    <span class="token constant">L</span><span class="token punctuation">.</span><span class="token method function property-access">tileLayer</span><span class="token punctuation">(</span>tile<span class="token punctuation">,</span> <span class="token punctuation">{</span> attribution <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">addTo</span><span class="token punctuation">(</span>bind<span class="token punctuation">)</span>

    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>popup <span class="token operator">!==</span> <span class="token keyword null nil">null</span> <span class="token operator">&#x26;&#x26;</span> popupLat <span class="token operator">!==</span> <span class="token keyword null nil">null</span> <span class="token operator">&#x26;&#x26;</span> popupLong <span class="token operator">!==</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token constant">L</span><span class="token punctuation">.</span><span class="token method function property-access">marker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>popupLat<span class="token punctuation">,</span> popupLong<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">addTo</span><span class="token punctuation">(</span>bind<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token method function property-access">bindPopup</span><span class="token punctuation">(</span>popup<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token method function property-access">openPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>With such set of scripts and partials, I can render a map on the member page.
This map displays a single marker.</p>
<p>I would like to be able to render multiple markers and their popup on the map.
The expansion of the script should be able to handle single or multiple markers and popups.</p>
<p>I thought that the frontmatter would look like this ?</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> Pierre<span class="token punctuation">-</span>Marie Allard
<span class="token key atrule">firstname</span><span class="token punctuation">:</span> Pierre<span class="token punctuation">-</span>Marie
<span class="token key atrule">lastname</span><span class="token punctuation">:</span> Allard
<span class="token key atrule">institution</span><span class="token punctuation">:</span> COMMONS Lab<span class="token punctuation">,</span> Department of Biology<span class="token punctuation">,</span> University of Fribourg<span class="token punctuation">,</span> Switzerland
<span class="token key atrule">email</span><span class="token punctuation">:</span> pierre<span class="token punctuation">-</span>marie.allard@unifr.ch
<span class="token key atrule">orcid</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//orcid.org/0000<span class="token punctuation">-</span>0003<span class="token punctuation">-</span>3389<span class="token punctuation">-</span><span class="token number">2191</span>
<span class="token key atrule">wikidata</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.wikidata.org/wiki/Q56451301
<span class="token key atrule">scholia</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//scholia.toolforge.org/author/Q56451301
<span class="token key atrule">thumbnail</span><span class="token punctuation">:</span>
  <span class="token key atrule">url</span><span class="token punctuation">:</span> /img/sunrise.jpg
  <span class="token key atrule">author</span><span class="token punctuation">:</span> Harris Vo
  <span class="token key atrule">authorURL</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//unsplash.com/@hoanvokim
  <span class="token key atrule">origin</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//unsplash.com/photos/ZX6BPboJrYk
  <span class="token key atrule">originName</span><span class="token punctuation">:</span> Unsplash
<span class="token key atrule">modules</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"leaflet"</span><span class="token punctuation">]</span>
<span class="token key atrule">latitude</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">52.377</span><span class="token punctuation">,</span> <span class="token number">52.378</span><span class="token punctuation">]</span>
<span class="token key atrule">longitude</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4.900</span><span class="token punctuation">,</span> <span class="token number">4.901</span><span class="token punctuation">]</span>
<span class="token key atrule">popup</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"Amsterdam Central Station is it here?"</span><span class="token punctuation">,</span> <span class="token string">"Amsterdam Central Station is it here?"</span><span class="token punctuation">]</span>
<span class="token key atrule">type</span><span class="token punctuation">:</span> members
<span class="token punctuation">---</span>
</code></pre>
<p>Could you help me adapt the previous script where it is needed ?</p>
<p>Now I also have layouts/partials/assets/custom-map.html</p>
<pre class="language-html"><code class="language-html">{{ $error := false }}

{{/* Validate arguments */}}
{{ if partial "utilities/IsInvalidArgs.html" (dict "structure" "custom-map" "args" . "group" "partial") }}
  {{- errorf "partial [assets/list.html] - Invalid arguments" -}}
  {{ $error = true }}
{{ end }}

{{/* Initialize arguments */}}
{{- $list := .list -}}
{{- $class := .class -}}

{{/* Main code */}}
{{ if not $error }}
  {{- range $index, $item := $list }}
    {{ with $item.Params }}
      {{ if and $item.Params.latitude $item.Params.longitude $item.Params.popup }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container-fluid p-0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map-container mb-5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            {{ partial "assets/map.html" (dict "lat" $item.Params.latitude "long" $item.Params.longitude "popup" $item.Params.popup "popup-lat" $item.Params.latitude "popup-long" $item.Params.longitude) }}
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>

        {{- /* Stops after the first valid item */ -}}
        {{- break -}}

      {{ end }}
    {{ end }}
  {{ end }}
{{ end }}
</code></pre>
<p>Which is able to iterate over a list of items.
For now it is just a draft and it breaks after one iteration.
Could you help me adapt the previous script where it is needed so that it iterates over the list of items and displays all the markers and popups on one single map ?</p>
<p>In this script.</p>
<p>const attribution = '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
const tile = '<a href="https://tile.openstreetmap.org/%7Bz%7D/%7Bx%7D/%7By%7D.png&#x27;">https://tile.openstreetmap.org/{z}/{x}/{y}.png'</a></p>
<p>document.querySelectorAll('div.leaflet-map').forEach(map => {
const viewLat = map.getAttribute('data-leaflet-view-lat')
const viewLong = map.getAttribute('data-leaflet-view-long')
const zoom = map.getAttribute('data-leaflet-view-zoom')
const popupData = map.getAttribute('data-leaflet-popup-caption')  // This will now store a JSON string</p>
<p>  if (viewLat === null || viewLong === null || zoom === null) {
console.error('leaflet-map.js: expected lat, long, and zoom')
} else {
const bind = L.map(map).setView([viewLat, viewLong], zoom)
L.tileLayer(tile, { attribution }).addTo(bind)</p>
<pre><code>// Parse popupData as an array
const popups = popupData ? JSON.parse(popupData) : []
const popupLatitudes = map.getAttribute('data-leaflet-popup-lat') ? JSON.parse(map.getAttribute('data-leaflet-popup-lat')) : []
const popupLongitudes = map.getAttribute('data-leaflet-popup-long') ? JSON.parse(map.getAttribute('data-leaflet-popup-long')) : []

if (popups.length &#x26;&#x26; popupLatitudes.length &#x26;&#x26; popupLongitudes.length) {
  for (let i = 0; i &#x3C; popups.length; i++) {
    if (popupLatitudes[i] &#x26;&#x26; popupLongitudes[i]) {
      L.marker([popupLatitudes[i], popupLongitudes[i]]).addTo(bind)
        .bindPopup(popups[i])
        .openPopup()
    }
  }
}
</code></pre>
<p>  }
})</p>
<p>Is it possible to make sure that this will work for entries with a single marker and popup as well as for entries with multiple markers and popups ?</p>
<p>That is for frontmatters such </p>
<p>title: Pierre-Marie Allard
firstname: Pierre-Marie
lastname: Allard
institution: COMMONS Lab, Department of Biology, University of Fribourg, Switzerland
email: <a href="/dendron-emi/mailto:pierre-marie.allard@unifr.ch">pierre-marie.allard@unifr.ch</a>
orcid: <a href="https://orcid.org/0000-0003-3389-2191">https://orcid.org/0000-0003-3389-2191</a>
wikidata: <a href="https://www.wikidata.org/wiki/Q56451301">https://www.wikidata.org/wiki/Q56451301</a>
scholia: <a href="https://scholia.toolforge.org/author/Q56451301">https://scholia.toolforge.org/author/Q56451301</a>
thumbnail:
url: /img/sunrise.jpg
author: Harris Vo
authorURL: <a href="https://unsplash.com/@hoanvokim">https://unsplash.com/@hoanvokim</a>
origin: <a href="https://unsplash.com/photos/ZX6BPboJrYk">https://unsplash.com/photos/ZX6BPboJrYk</a>
originName: Unsplash
modules: ["leaflet"]
latitude: [52.377, 52.378]
longitude: [4.900, 4.901]
popup: ["Amsterdam Central Station is it here?", "Amsterdam Central Station is it here?"]</p>
<h2 id="type-members">type: members<a aria-hidden="true" class="anchor-heading icon-link" href="#type-members"></a></h2>
<p>or</p>
<p>title: Pierre-Marie Allard
firstname: Pierre-Marie
lastname: Allard
institution: COMMONS Lab, Department of Biology, University of Fribourg, Switzerland
email: <a href="/dendron-emi/mailto:pierre-marie.allard@unifr.ch">pierre-marie.allard@unifr.ch</a>
orcid: <a href="https://orcid.org/0000-0003-3389-2191">https://orcid.org/0000-0003-3389-2191</a>
wikidata: <a href="https://www.wikidata.org/wiki/Q56451301">https://www.wikidata.org/wiki/Q56451301</a>
scholia: <a href="https://scholia.toolforge.org/author/Q56451301">https://scholia.toolforge.org/author/Q56451301</a>
thumbnail:
url: /img/sunrise.jpg
author: Harris Vo
authorURL: <a href="https://unsplash.com/@hoanvokim">https://unsplash.com/@hoanvokim</a>
origin: <a href="https://unsplash.com/photos/ZX6BPboJrYk">https://unsplash.com/photos/ZX6BPboJrYk</a>
originName: Unsplash
modules: ["leaflet"]
latitude: 52.377
longitude: 4.900
popup: "Amsterdam Central Station is it here?"</p>
<h2 id="type-members-1">type: members<a aria-hidden="true" class="anchor-heading icon-link" href="#type-members-1"></a></h2>
<p>OK this doesnt work. I will need to find a way to make it work.</p>
<p>Lets rather work on the map.html</p>
<p>Currently the map.html is </p>
<pre class="language-html"><code class="language-html"><span class="token comment">&#x3C;!-- 
    Copyright © 2024 The Hinode Team / Mark Dumay. All rights reserved.
    Use of this source code is governed by The MIT License (MIT) that can be found in the LICENSE file.
    Visit gethinode.com/license for more details.
--></span>

{{ $error := false }}

<span class="token comment">&#x3C;!-- Validate arguments --></span>
{{ if partial "utilities/IsInvalidArgs.html" (dict "structure" "map" "args" .Params) }}
    {{ errorf "Invalid arguments: %s" .Position -}}
    {{ $error = true }}
{{ end }}

<span class="token comment">&#x3C;!-- Initialize arguments --></span>

{{- $id := printf "leaflet-map-%d" .Ordinal -}}
{{ with index . "id" }}
    {{ $id = . }}
{{ end }}

{{ $class := index . "class" | default "ratio ratio-16x9 w-100 mx-auto" }}

{{ $error := false }}
{{ $viewLat := 52.377 }}
{{ $viewLong := 4.90 }}
{{ $zoom := 13 }}
{{ $popup := "" }}
{{ $popupLat := ""  }}
{{ $popupLong := "" }}

{{- with index . "lat" }}{{ $viewLat = . }}{{ end -}}
{{- with index . "long" }}{{ $viewLong = . }}{{ end -}}
{{- with index . "zoom" }}{{ $zoom = . }}{{ end -}}
{{- with index . "popup" }}{{ $popup = . }}{{ end -}}
{{- with index . "popup-lat" }}{{ $popupLat = . }}{{ end -}}
{{- with index . "popup-long" }}{{ $popupLong = . }}{{ end -}}

{{- if not $error -}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ $id }}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>leaflet-map {{ $class }}<span class="token punctuation">"</span></span>
      <span class="token attr-name">{{</span> <span class="token attr-name">with</span> <span class="token attr-name">$viewLat</span> <span class="token attr-name">}}data-leaflet-view-lat</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ index $viewLat 0 }}<span class="token punctuation">"</span></span><span class="token attr-name">{{</span> <span class="token attr-name">end</span> <span class="token attr-name">}}</span>
      <span class="token attr-name">{{</span> <span class="token attr-name">with</span> <span class="token attr-name">$viewLong</span> <span class="token attr-name">}}data-leaflet-view-long</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ index $viewLong 0 }}<span class="token punctuation">"</span></span><span class="token attr-name">{{</span> <span class="token attr-name">end</span> <span class="token attr-name">}}</span>
      <span class="token attr-name">{{</span> <span class="token attr-name">with</span> <span class="token attr-name">$zoom</span> <span class="token attr-name">}}data-leaflet-view-zoom</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ . }}<span class="token punctuation">"</span></span><span class="token attr-name">{{</span> <span class="token attr-name">end</span> <span class="token attr-name">}}</span>
      <span class="token attr-name">{{</span> <span class="token attr-name">with</span> <span class="token attr-name">$popup</span> <span class="token attr-name">}}</span>
        <span class="token attr-name">data-leaflet-popup-caption</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>{{ jsonify $popup }}<span class="token punctuation">'</span></span>
        <span class="token attr-name">data-leaflet-popup-lat</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>{{ jsonify $popupLat }}<span class="token punctuation">'</span></span>
        <span class="token attr-name">data-leaflet-popup-long</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>{{ jsonify $popupLong }}<span class="token punctuation">'</span></span>
      <span class="token attr-name">{{</span> <span class="token attr-name">end</span> <span class="token attr-name">}}</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
{{- end -}}
</code></pre>
<p>Let's try to make it work for multiple markers and popups.</p>
<p>It should handle the cases where there is only one marker and popup as well as the cases where there are multiple markers and popups.</p>
<p>That is when value of latitude and longitude are arrays and when the value of popup is an array, or when the value of latitude and longitude are single values and the value of popup is a single value.</p>
<p>Eg.</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> Pierre<span class="token punctuation">-</span>Marie Allard
<span class="token key atrule">firstname</span><span class="token punctuation">:</span> Pierre<span class="token punctuation">-</span>Marie
<span class="token key atrule">lastname</span><span class="token punctuation">:</span> allardpm
<span class="token key atrule">latitude</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">52.377</span><span class="token punctuation">,</span> <span class="token number">52.378</span><span class="token punctuation">]</span>
<span class="token key atrule">longitude</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4.900</span><span class="token punctuation">,</span> <span class="token number">4.901</span><span class="token punctuation">]</span>
<span class="token key atrule">popup</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"Amsterdam Central Station is it here?"</span><span class="token punctuation">,</span> <span class="token string">"Amsterdam Central Station is it here?"</span><span class="token punctuation">]</span>
<span class="token punctuation">---</span>
</code></pre>
<p>or</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> Pierre<span class="token punctuation">-</span>Marie Allard
<span class="token key atrule">firstname</span><span class="token punctuation">:</span> Pierre<span class="token punctuation">-</span>Marie
<span class="token key atrule">lastname</span><span class="token punctuation">:</span> allardpm
<span class="token key atrule">latitude</span><span class="token punctuation">:</span> <span class="token number">52.377</span>
<span class="token key atrule">longitude</span><span class="token punctuation">:</span> <span class="token number">4.900</span>
<span class="token key atrule">popup</span><span class="token punctuation">:</span> <span class="token string">"Amsterdam Central Station is it here?"</span>
<span class="token punctuation">---</span>
</code></pre>
<p>It's working ! Almost good :)
I can now display the multiple markers.</p>
<p>One thing is not OK is that I can view all popups. I can only view the last one.</p>
<p>Does this has to do with </p>
<p>const attribution = '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
const tile = '<a href="https://tile.openstreetmap.org/%7Bz%7D/%7Bx%7D/%7By%7D.png&#x27;">https://tile.openstreetmap.org/{z}/{x}/{y}.png'</a></p>
<p>document.querySelectorAll('div.leaflet-map').forEach(map => {
const viewLat = map.getAttribute('data-leaflet-view-lat')
const viewLong = map.getAttribute('data-leaflet-view-long')
const zoom = map.getAttribute('data-leaflet-view-zoom')
const popupData = map.getAttribute('data-leaflet-popup-caption')  // This will now store a JSON string</p>
<p>  if (viewLat === null || viewLong === null || zoom === null) {
console.error('leaflet-map.js: expected lat, long, and zoom')
} else {
const bind = L.map(map).setView([viewLat, viewLong], zoom)
L.tileLayer(tile, { attribution }).addTo(bind)</p>
<pre><code>// Parse popupData as an array
const popups = popupData ? JSON.parse(popupData) : []
const popupLatitudes = map.getAttribute('data-leaflet-popup-lat') ? JSON.parse(map.getAttribute('data-leaflet-popup-lat')) : []
const popupLongitudes = map.getAttribute('data-leaflet-popup-long') ? JSON.parse(map.getAttribute('data-leaflet-popup-long')) : []

if (popups.length &#x26;&#x26; popupLatitudes.length &#x26;&#x26; popupLongitudes.length) {
  for (let i = 0; i &#x3C; popups.length; i++) {
    if (popupLatitudes[i] &#x26;&#x26; popupLongitudes[i]) {
      L.marker([popupLatitudes[i], popupLongitudes[i]]).addTo(bind)
        .bindPopup(popups[i])
        .openPopup()
    }
  }
}
</code></pre>
<p>  }
})</p>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/dendron-emi/notes/fvi2bh4uisut81x5q21bjf0">2024-10-07</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#" title=""></a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#type-members" title="type: members">type: members</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#type-members-1" title="type: members">type: members</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"b72s2o287supid1wnu0o30i","title":"Hugo","desc":"","updated":1729500400784,"created":1729082115661,"custom":{},"fname":"website.hugo","type":"note","vault":{"fsPath":".","selfContained":true,"name":"dendron-emi"},"contentHash":"ce504bd5741ac697651d310743e023f4","links":[{"from":{"fname":"open-notebook.emi.pmallard.2024.10.07","id":"fvi2bh4uisut81x5q21bjf0","vaultName":"dendron-emi"},"type":"backlink","position":{"start":{"line":15,"column":45,"offset":250},"end":{"line":15,"column":61,"offset":266},"indent":[]},"value":"website.hugo"}],"anchors":{"":{"type":"header","text":"","value":"","line":134,"column":0,"depth":6},"type-members":{"type":"header","text":"type: members","value":"type-members","line":450,"column":0,"depth":2},"type-members-1":{"type":"header","text":"type: members","value":"type-members-1","line":473,"column":0,"depth":2}},"children":[],"parent":"em044ww0x12gvshkq9s1gp6","data":{}},"body":"\u003ch1 id=\"hugo\"\u003eHugo\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#hugo\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eLooking into \u003ca href=\"https://nickballou.com/blog/custom-wowchemy/\"\u003ehttps://nickballou.com/blog/custom-wowchemy/\u003c/a\u003e \u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe idea is to replicate the membership page of the Open Traits Network (\u003ca href=\"https://opentraits.org/members/\"\u003ehttps://opentraits.org/members/\u003c/a\u003e) on the EMI website.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eLooking for old li_compact.html files \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/forrtproject/forrtproject.github.io/tree/eb55900da7da50390ca23a929794fde9073c7df5\"\u003ehttps://github.com/forrtproject/forrtproject.github.io/tree/eb55900da7da50390ca23a929794fde9073c7df5\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThis whole story turns out to be a bit more complicated than I thought. I will need to spend more time on this.\u003c/p\u003e\n\u003cp\u003eFirst it seems that the wowchemy is now hugo blox.\nSecond Hugo blox is not compatible with the latest version of Hugo.\u003c/p\u003e\n\u003cp\u003eSwitching hugo version is not has straightforward.\nInstalling a specific version neither.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.gigigatgat.ca/en/posts/install-specific-hugo-version/\"\u003ehttps://www.gigigatgat.ca/en/posts/install-specific-hugo-version/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/gohugoio/hugo/releases/tag/v0.121.1\"\u003ehttps://github.com/gohugoio/hugo/releases/tag/v0.121.1\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e/Users/pma/.gem/ruby/3.3.5/bin:/Users/pma/.rubies/ruby-3.3.5/lib/ruby/gems/3.3.0/bin:/Users/pma/.rubies/ruby-3.3.5/bin:/Users/pma/.pyenv/shims:/Users/pma/.nvm/versions/node/v17.8.0/bin:/Users/pma/.yarn/bin:/Users/pma/.config/yarn/global/node_modules/.bin:/Users/pma/.rbenv/shims:/Users/pma/.cargo/bin:/Users/pma/.local/bin:/usr/local/bin:/bin:/sbin:/usr/local/sbin:/usr/local/bin:/usr/local/texlive/2023/bin/universal-darwin:/Users/pma/bin:/usr/local/bin:/Users/pma/mambaforge/lib/python3.9/site-packages:/usr/local/texlive/2023/bin/universal-darwin:/Users/pma/.nvm/versions/node/v17.8.0/bin:/Users/pma/.yarn/bin:/Users/pma/.config/yarn/global/node_modules/.bin:/Users/pma/.rbenv/shims:/Users/pma/.cargo/bin:/Users/pma/.local/bin:/Users/pma/mambaforge/bin:/Users/pma/mambaforge/condabin:/usr/local/bin:/bin:/sbin:/usr/local/sbin:/usr/local/bin:/usr/local/texlive/2023/bin/universal-darwin:/Users/pma/bin:/usr/local/bin:/Users/pma/mambaforge/lib/python3.9/site-packages:/usr/local/texlive/2023/bin/universal-darwin:/opt/local/bin:/opt/local/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/opt/X11/bin:/usr/local/share/dotnet:~/.dotnet/tools:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Applications/quarto/bin:/Applications/iTerm.app/Contents/Resources/utilities\u003c/p\u003e\n\u003cp\u003eHow to embedd a map \u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://blog.gpkb.org/posts/hugo-static-site-maps/\"\u003ehttps://blog.gpkb.org/posts/hugo-static-site-maps/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e7.114334,46.777595,7.197247,46.822506\u003c/p\u003e\n\u003cp\u003epmtiles extract \\\n\u003ca href=\"https://build.protomaps.com/20241014.pmtiles\"\u003ehttps://build.protomaps.com/20241014.pmtiles\u003c/a\u003e \\\nmymap.pmtiles \\\n--bbox=7.114334,46.777595,7.197247,46.822506\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://osgav.run/\"\u003ehttps://osgav.run/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eHinode theme has a leaflet module \u003ca href=\"https://gethinode.com/docs/getting-started/introduction/\"\u003ehttps://gethinode.com/docs/getting-started/introduction/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eMy leaflet-map.js\u003c/p\u003e\n\u003cp\u003econst attribution = '© \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors'\nconst tile = '\u003ca href=\"https://tile.openstreetmap.org/%7Bz%7D/%7Bx%7D/%7By%7D.png\u0026#x27;\"\u003ehttps://tile.openstreetmap.org/{z}/{x}/{y}.png'\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003edocument.querySelectorAll('div.leaflet-map').forEach(map =\u003e {\nconst viewLat = map.getAttribute('data-leaflet-view-lat')\nconst viewLong = map.getAttribute('data-leaflet-view-long')\nconst zoom = map.getAttribute('data-leaflet-view-zoom')\nconst popup = map.getAttribute('data-leaflet-popup-caption')\nconst popupLat = map.getAttribute('data-leaflet-popup-lat')\nconst popupLong = map.getAttribute('data-leaflet-popup-long')\nconst view = [viewLat, viewLong]\u003c/p\u003e\n\u003cp\u003e  if (viewLat === null || viewLong === null || zoom === null) {\nconsole.error('leaflet-map.js: expected lat, long, and zoom')\n} else {\nconst bind = L.map(map).setView(view, zoom)\nL.tileLayer(tile, { attribution }).addTo(bind)\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eif (popup !== null \u0026#x26;\u0026#x26; popupLat !== null \u0026#x26;\u0026#x26; popupLong !== null) {\n  L.marker([popupLat, popupLong]).addTo(bind)\n    .bindPopup(popup)\n    .openPopup()\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e  }\n})\u003c/p\u003e\n\u003cp\u003eMy layout/partial/assets/map.html\u003c/p\u003e\n\u003c!-- \n    Copyright © 2024 The Hinode Team / Mark Dumay. All rights reserved.\n    Use of this source code is governed by The MIT License (MIT) that can be found in the LICENSE file.\n    Visit gethinode.com/license for more details.\n--\u003e\n\u003cp\u003e{{ $error := false }}\u003c/p\u003e\n\u003c!-- Validate arguments --\u003e\n\u003cp\u003e{{ if partial \"utilities/IsInvalidArgs.html\" (dict \"structure\" \"map\" \"args\" .Params) }}\n{{ errorf \"Invalid arguments: %s\" .Position -}}\n{{ $error = true }}\n{{ end }}\u003c/p\u003e\n\u003c!-- Initialize arguments --\u003e\n\u003cp\u003e{{- $id := printf \"leaflet-map-%d\" .Ordinal -}}\n{{ with index . \"id\" }}\n{{ $id = . }}\n{{ end }}\u003c/p\u003e\n\u003cp\u003e{{ $class := index . \"class\" | default \"ratio ratio-16x9 w-100 mx-auto\" }}\u003c/p\u003e\n\u003cp\u003e{{ $error := false }}\n{{ $viewLat := 52.377 }}\n{{ $viewLong := 4.90 }}\n{{ $zoom := 13 }}\n{{ $popup := \"\" }}\n{{ $popupLat := \"\"  }}\n{{ $popupLong := \"\" }}\u003c/p\u003e\n\u003cp\u003e{{- with index . \"lat\" }}{{ $viewLat = . }}{{ end -}}\n{{- with index . \"long\" }}{{ $viewLong = . }}{{ end -}}\n{{- with index . \"zoom\" }}{{ $zoom = . }}{{ end -}}\n{{- with index . \"popup\" }}{{ $popup = . }}{{ end -}}\n{{- with index . \"popup-lat\" }}{{ $popupLat = . }}{{ end -}}\n{{- with index . \"popup-long\" }}{{ $popupLong = . }}{{ end -}}\u003c/p\u003e\n\u003c!-- Main code --\u003e\n\u003cp\u003e{{- if not $error -}}\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026#x3C;div id=\"{{ $id }}\" class=\"leaflet-map {{ $class }}\"\n    {{ with $viewLat }}data-leaflet-view-lat=\"{{ . }}\"{{ end }}\n    {{ with $viewLong }}data-leaflet-view-long=\"{{ . }}\"{{ end }}\n    {{ with $zoom }}data-leaflet-view-zoom=\"{{ . }}\"{{ end }}\n    {{ with $popup }}data-leaflet-popup-caption=\"{{ . }}\"{{ end }}\n    {{ with $popupLat }}data-leaflet-popup-lat=\"{{ . }}\"{{ end }}\n    {{ with $popupLong }}data-leaflet-popup-long=\"{{ . }}\"{{ end }}\u003e\n\u0026#x3C;/div\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e{{- end -}}\u003c/p\u003e\n\u003ch6 id=\"\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#\"\u003e\u003c/a\u003e\u003c/h6\u003e\n\u003cp\u003eFrontmatter in a content file\u003c/p\u003e\n\u003cpre class=\"language-yaml\"\u003e\u003ccode class=\"language-yaml\"\u003e\n\u003cspan class=\"token punctuation\"\u003e---\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003etitle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Pierre\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eMarie Allard\n\u003cspan class=\"token key atrule\"\u003efirstname\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Pierre\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eMarie\n\u003cspan class=\"token key atrule\"\u003elastname\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Allard\n\u003cspan class=\"token key atrule\"\u003einstitution\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e COMMONS Lab\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e Department of Biology\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e University of Fribourg\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e Switzerland\n\u003cspan class=\"token key atrule\"\u003eemail\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e pierre\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003emarie.allard@unifr.ch\n\u003cspan class=\"token key atrule\"\u003eorcid\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e https\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e//orcid.org/0000\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e0003\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e3389\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e\u003cspan class=\"token number\"\u003e2191\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003ewikidata\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e https\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e//www.wikidata.org/wiki/Q56451301\n\u003cspan class=\"token key atrule\"\u003escholia\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e https\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e//scholia.toolforge.org/author/Q56451301\n\u003cspan class=\"token key atrule\"\u003ethumbnail\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token key atrule\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e /img/sunrise.jpg\n  \u003cspan class=\"token key atrule\"\u003eauthor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Harris Vo\n  \u003cspan class=\"token key atrule\"\u003eauthorURL\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e https\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e//unsplash.com/@hoanvokim\n  \u003cspan class=\"token key atrule\"\u003eorigin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e https\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e//unsplash.com/photos/ZX6BPboJrYk\n  \u003cspan class=\"token key atrule\"\u003eoriginName\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Unsplash\n\u003cspan class=\"token key atrule\"\u003emodules\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"leaflet\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003elatitude\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e52.377\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003elongitude\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e4.900\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003epopup\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Amsterdam Central Station is it here?\"\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003etype\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e members\n\u003cspan class=\"token punctuation\"\u003e---\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSuch file in layouts/members/single/body.html\u003c/p\u003e\n\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003erow\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- Left column: Member Information --\u003e\u003c/span\u003e\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ecol-md-8\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n      {{- /* Display Member Information */ -}}\n      {{ with .Params.author }}\n        \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eauthor-entry display-4 mb-3\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n          \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e{{ . }}\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n        \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n      {{ end }}\n  \n      {{- /* Display Institution, Email, ORCID, Wikidata, and Scholia */ -}}\n      {{ with .Params }}\n        \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eul\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003emetadata-list list-unstyled\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n          {{ with .institution }}\n            \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003eInstitution or place of work:\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e {{ . }}\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n          {{ end }}\n          {{ with .email }}\n            \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003eEmail:\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ehref\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003emailto:{{ . }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e{{ . }}\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n          {{ end }}\n          {{ with .orcid }}\n            \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003eORCID:\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ehref\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ . }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e{{ . }}\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n          {{ end }}\n          {{ with .wikidata }}\n            \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003eWikidata:\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ehref\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ . }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e{{ . }}\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n          {{ end }}\n          {{ with .scholia }}\n            \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003eScholia:\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003estrong\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ehref\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ . }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e{{ . }}\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n          {{ end }}\n        \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n      {{ end }}\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \n    \u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- Right column: Thumbnail Image --\u003e\u003c/span\u003e\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ecol-md-4\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n      {{- /* Extract thumbnail information */ -}}\n      {{ with .Params.thumbnail }}\n        \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003epost-thumbnail mb-5\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n          \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eimg\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003esrc\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ .url }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ealt\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eThumbnail\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eimg-fluid\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n          \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ethumbnail-attribution\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n            Photo by \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ehref\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ .authorURL }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e{{ .author }}\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e on \n            \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ehref\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ .origin }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e{{ .originName }}\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n          \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n        \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n      {{ end }}\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \n  \u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- Map Section --\u003e\u003c/span\u003e\n  {{- /* Render the Map using the Leaflet map partial */ -}}\n  {{ with .Params }}\n    {{ if and .latitude .longitude .popup }}\n      \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003emap-container mb-5\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n        {{ partial \"assets/map.html\" (dict \"lat\" .latitude \"long\" .longitude \"popup\" .popup \"popup-lat\" .latitude \"popup-long\" .longitude) }}\n      \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    {{ end }}\n  {{ end }}\n\n  \n  \n  {{- /* Render the rest of the content */ -}}\n  {{ partial \"utilities/ProcessContent\" (dict \"page\" .Page \"raw\" .RawContent) }}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eand layouts/partials/assets/map.html\u003c/p\u003e\n\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- \n    Copyright © 2024 The Hinode Team / Mark Dumay. All rights reserved.\n    Use of this source code is governed by The MIT License (MIT) that can be found in the LICENSE file.\n    Visit gethinode.com/license for more details.\n--\u003e\u003c/span\u003e\n\n{{ $error := false }}\n\n\u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- Validate arguments --\u003e\u003c/span\u003e\n{{ if partial \"utilities/IsInvalidArgs.html\" (dict \"structure\" \"map\" \"args\" .Params) }}\n    {{ errorf \"Invalid arguments: %s\" .Position -}}\n    {{ $error = true }}\n{{ end }}\n\n\u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- Initialize arguments --\u003e\u003c/span\u003e\n\n{{- $id := printf \"leaflet-map-%d\" .Ordinal -}}\n{{ with index . \"id\" }}\n    {{ $id = . }}\n{{ end }}\n\n{{ $class := index . \"class\" | default \"ratio ratio-16x9 w-100 mx-auto\" }}\n\n{{ $error := false }}\n{{ $viewLat := 52.377 }}\n{{ $viewLong := 4.90 }}\n{{ $zoom := 13 }}\n{{ $popup := \"\" }}\n{{ $popupLat := \"\"  }}\n{{ $popupLong := \"\" }}\n\n{{- with index . \"lat\" }}{{ $viewLat = . }}{{ end -}}\n{{- with index . \"long\" }}{{ $viewLong = . }}{{ end -}}\n{{- with index . \"zoom\" }}{{ $zoom = . }}{{ end -}}\n{{- with index . \"popup\" }}{{ $popup = . }}{{ end -}}\n{{- with index . \"popup-lat\" }}{{ $popupLat = . }}{{ end -}}\n{{- with index . \"popup-long\" }}{{ $popupLong = . }}{{ end -}}\n\n\u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- Main code --\u003e\u003c/span\u003e\n{{- if not $error -}}\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eid\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ $id }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eleaflet-map {{ $class }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n        \u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ewith\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e$viewLat\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}data-leaflet-view-lat\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ . }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eend\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}\u003c/span\u003e\n        \u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ewith\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e$viewLong\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}data-leaflet-view-long\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ . }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eend\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}\u003c/span\u003e\n        \u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ewith\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e$zoom\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}data-leaflet-view-zoom\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ . }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eend\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}\u003c/span\u003e\n        \u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ewith\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e$popup\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}data-leaflet-popup-caption\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ . }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eend\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}\u003c/span\u003e\n        \u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ewith\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e$popupLat\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}data-leaflet-popup-lat\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ . }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eend\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}\u003c/span\u003e\n        \u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ewith\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e$popupLong\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}data-leaflet-popup-long\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ . }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eend\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n{{- end -}}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eMy leaflet-map.js \u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e attribution \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'\u0026#x26;copy; \u0026#x3C;a href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u0026#x3C;/a\u003e contributors'\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e tile \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'https://tile.openstreetmap.org/{z}/{x}/{y}.png'\u003c/span\u003e\n\n\u003cspan class=\"token dom variable\"\u003edocument\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003equerySelectorAll\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'div.leaflet-map'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eforEach\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003emap\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e viewLat \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e map\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egetAttribute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'data-leaflet-view-lat'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e viewLong \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e map\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egetAttribute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'data-leaflet-view-long'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e zoom \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e map\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egetAttribute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'data-leaflet-view-zoom'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e popup \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e map\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egetAttribute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'data-leaflet-popup-caption'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e popupLat \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e map\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egetAttribute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'data-leaflet-popup-lat'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e popupLong \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e map\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egetAttribute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'data-leaflet-popup-long'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e view \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eviewLat\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e viewLong\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\n  \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eviewLat \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token keyword null nil\"\u003enull\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e viewLong \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token keyword null nil\"\u003enull\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e zoom \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token keyword null nil\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eerror\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'leaflet-map.js: expected lat, long, and zoom'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e bind \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token constant\"\u003eL\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emap\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esetView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eview\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e zoom\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token constant\"\u003eL\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etileLayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etile\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e attribution \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eaddTo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ebind\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epopup \u003cspan class=\"token operator\"\u003e!==\u003c/span\u003e \u003cspan class=\"token keyword null nil\"\u003enull\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e popupLat \u003cspan class=\"token operator\"\u003e!==\u003c/span\u003e \u003cspan class=\"token keyword null nil\"\u003enull\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e popupLong \u003cspan class=\"token operator\"\u003e!==\u003c/span\u003e \u003cspan class=\"token keyword null nil\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token constant\"\u003eL\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003emarker\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003epopupLat\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e popupLong\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eaddTo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ebind\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ebindPopup\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epopup\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eopenPopup\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWith such set of scripts and partials, I can render a map on the member page.\nThis map displays a single marker.\u003c/p\u003e\n\u003cp\u003eI would like to be able to render multiple markers and their popup on the map.\nThe expansion of the script should be able to handle single or multiple markers and popups.\u003c/p\u003e\n\u003cp\u003eI thought that the frontmatter would look like this ?\u003c/p\u003e\n\u003cpre class=\"language-yaml\"\u003e\u003ccode class=\"language-yaml\"\u003e\u003cspan class=\"token punctuation\"\u003e---\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003etitle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Pierre\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eMarie Allard\n\u003cspan class=\"token key atrule\"\u003efirstname\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Pierre\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eMarie\n\u003cspan class=\"token key atrule\"\u003elastname\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Allard\n\u003cspan class=\"token key atrule\"\u003einstitution\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e COMMONS Lab\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e Department of Biology\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e University of Fribourg\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e Switzerland\n\u003cspan class=\"token key atrule\"\u003eemail\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e pierre\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003emarie.allard@unifr.ch\n\u003cspan class=\"token key atrule\"\u003eorcid\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e https\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e//orcid.org/0000\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e0003\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e3389\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e\u003cspan class=\"token number\"\u003e2191\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003ewikidata\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e https\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e//www.wikidata.org/wiki/Q56451301\n\u003cspan class=\"token key atrule\"\u003escholia\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e https\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e//scholia.toolforge.org/author/Q56451301\n\u003cspan class=\"token key atrule\"\u003ethumbnail\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token key atrule\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e /img/sunrise.jpg\n  \u003cspan class=\"token key atrule\"\u003eauthor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Harris Vo\n  \u003cspan class=\"token key atrule\"\u003eauthorURL\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e https\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e//unsplash.com/@hoanvokim\n  \u003cspan class=\"token key atrule\"\u003eorigin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e https\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e//unsplash.com/photos/ZX6BPboJrYk\n  \u003cspan class=\"token key atrule\"\u003eoriginName\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Unsplash\n\u003cspan class=\"token key atrule\"\u003emodules\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"leaflet\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003elatitude\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e52.377\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e52.378\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003elongitude\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e4.900\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4.901\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003epopup\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"Amsterdam Central Station is it here?\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Amsterdam Central Station is it here?\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003etype\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e members\n\u003cspan class=\"token punctuation\"\u003e---\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCould you help me adapt the previous script where it is needed ?\u003c/p\u003e\n\u003cp\u003eNow I also have layouts/partials/assets/custom-map.html\u003c/p\u003e\n\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e{{ $error := false }}\n\n{{/* Validate arguments */}}\n{{ if partial \"utilities/IsInvalidArgs.html\" (dict \"structure\" \"custom-map\" \"args\" . \"group\" \"partial\") }}\n  {{- errorf \"partial [assets/list.html] - Invalid arguments\" -}}\n  {{ $error = true }}\n{{ end }}\n\n{{/* Initialize arguments */}}\n{{- $list := .list -}}\n{{- $class := .class -}}\n\n{{/* Main code */}}\n{{ if not $error }}\n  {{- range $index, $item := $list }}\n    {{ with $item.Params }}\n      {{ if and $item.Params.latitude $item.Params.longitude $item.Params.popup }}\n        \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003econtainer-fluid p-0\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n          \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003emap-container mb-5\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n            {{ partial \"assets/map.html\" (dict \"lat\" $item.Params.latitude \"long\" $item.Params.longitude \"popup\" $item.Params.popup \"popup-lat\" $item.Params.latitude \"popup-long\" $item.Params.longitude) }}\n          \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n        \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\n        {{- /* Stops after the first valid item */ -}}\n        {{- break -}}\n\n      {{ end }}\n    {{ end }}\n  {{ end }}\n{{ end }}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWhich is able to iterate over a list of items.\nFor now it is just a draft and it breaks after one iteration.\nCould you help me adapt the previous script where it is needed so that it iterates over the list of items and displays all the markers and popups on one single map ?\u003c/p\u003e\n\u003cp\u003eIn this script.\u003c/p\u003e\n\u003cp\u003econst attribution = '© \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors'\nconst tile = '\u003ca href=\"https://tile.openstreetmap.org/%7Bz%7D/%7Bx%7D/%7By%7D.png\u0026#x27;\"\u003ehttps://tile.openstreetmap.org/{z}/{x}/{y}.png'\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003edocument.querySelectorAll('div.leaflet-map').forEach(map =\u003e {\nconst viewLat = map.getAttribute('data-leaflet-view-lat')\nconst viewLong = map.getAttribute('data-leaflet-view-long')\nconst zoom = map.getAttribute('data-leaflet-view-zoom')\nconst popupData = map.getAttribute('data-leaflet-popup-caption')  // This will now store a JSON string\u003c/p\u003e\n\u003cp\u003e  if (viewLat === null || viewLong === null || zoom === null) {\nconsole.error('leaflet-map.js: expected lat, long, and zoom')\n} else {\nconst bind = L.map(map).setView([viewLat, viewLong], zoom)\nL.tileLayer(tile, { attribution }).addTo(bind)\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// Parse popupData as an array\nconst popups = popupData ? JSON.parse(popupData) : []\nconst popupLatitudes = map.getAttribute('data-leaflet-popup-lat') ? JSON.parse(map.getAttribute('data-leaflet-popup-lat')) : []\nconst popupLongitudes = map.getAttribute('data-leaflet-popup-long') ? JSON.parse(map.getAttribute('data-leaflet-popup-long')) : []\n\nif (popups.length \u0026#x26;\u0026#x26; popupLatitudes.length \u0026#x26;\u0026#x26; popupLongitudes.length) {\n  for (let i = 0; i \u0026#x3C; popups.length; i++) {\n    if (popupLatitudes[i] \u0026#x26;\u0026#x26; popupLongitudes[i]) {\n      L.marker([popupLatitudes[i], popupLongitudes[i]]).addTo(bind)\n        .bindPopup(popups[i])\n        .openPopup()\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e  }\n})\u003c/p\u003e\n\u003cp\u003eIs it possible to make sure that this will work for entries with a single marker and popup as well as for entries with multiple markers and popups ?\u003c/p\u003e\n\u003cp\u003eThat is for frontmatters such \u003c/p\u003e\n\u003cp\u003etitle: Pierre-Marie Allard\nfirstname: Pierre-Marie\nlastname: Allard\ninstitution: COMMONS Lab, Department of Biology, University of Fribourg, Switzerland\nemail: \u003ca href=\"/dendron-emi/mailto:pierre-marie.allard@unifr.ch\"\u003epierre-marie.allard@unifr.ch\u003c/a\u003e\norcid: \u003ca href=\"https://orcid.org/0000-0003-3389-2191\"\u003ehttps://orcid.org/0000-0003-3389-2191\u003c/a\u003e\nwikidata: \u003ca href=\"https://www.wikidata.org/wiki/Q56451301\"\u003ehttps://www.wikidata.org/wiki/Q56451301\u003c/a\u003e\nscholia: \u003ca href=\"https://scholia.toolforge.org/author/Q56451301\"\u003ehttps://scholia.toolforge.org/author/Q56451301\u003c/a\u003e\nthumbnail:\nurl: /img/sunrise.jpg\nauthor: Harris Vo\nauthorURL: \u003ca href=\"https://unsplash.com/@hoanvokim\"\u003ehttps://unsplash.com/@hoanvokim\u003c/a\u003e\norigin: \u003ca href=\"https://unsplash.com/photos/ZX6BPboJrYk\"\u003ehttps://unsplash.com/photos/ZX6BPboJrYk\u003c/a\u003e\noriginName: Unsplash\nmodules: [\"leaflet\"]\nlatitude: [52.377, 52.378]\nlongitude: [4.900, 4.901]\npopup: [\"Amsterdam Central Station is it here?\", \"Amsterdam Central Station is it here?\"]\u003c/p\u003e\n\u003ch2 id=\"type-members\"\u003etype: members\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#type-members\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eor\u003c/p\u003e\n\u003cp\u003etitle: Pierre-Marie Allard\nfirstname: Pierre-Marie\nlastname: Allard\ninstitution: COMMONS Lab, Department of Biology, University of Fribourg, Switzerland\nemail: \u003ca href=\"/dendron-emi/mailto:pierre-marie.allard@unifr.ch\"\u003epierre-marie.allard@unifr.ch\u003c/a\u003e\norcid: \u003ca href=\"https://orcid.org/0000-0003-3389-2191\"\u003ehttps://orcid.org/0000-0003-3389-2191\u003c/a\u003e\nwikidata: \u003ca href=\"https://www.wikidata.org/wiki/Q56451301\"\u003ehttps://www.wikidata.org/wiki/Q56451301\u003c/a\u003e\nscholia: \u003ca href=\"https://scholia.toolforge.org/author/Q56451301\"\u003ehttps://scholia.toolforge.org/author/Q56451301\u003c/a\u003e\nthumbnail:\nurl: /img/sunrise.jpg\nauthor: Harris Vo\nauthorURL: \u003ca href=\"https://unsplash.com/@hoanvokim\"\u003ehttps://unsplash.com/@hoanvokim\u003c/a\u003e\norigin: \u003ca href=\"https://unsplash.com/photos/ZX6BPboJrYk\"\u003ehttps://unsplash.com/photos/ZX6BPboJrYk\u003c/a\u003e\noriginName: Unsplash\nmodules: [\"leaflet\"]\nlatitude: 52.377\nlongitude: 4.900\npopup: \"Amsterdam Central Station is it here?\"\u003c/p\u003e\n\u003ch2 id=\"type-members-1\"\u003etype: members\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#type-members-1\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eOK this doesnt work. I will need to find a way to make it work.\u003c/p\u003e\n\u003cp\u003eLets rather work on the map.html\u003c/p\u003e\n\u003cp\u003eCurrently the map.html is \u003c/p\u003e\n\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- \n    Copyright © 2024 The Hinode Team / Mark Dumay. All rights reserved.\n    Use of this source code is governed by The MIT License (MIT) that can be found in the LICENSE file.\n    Visit gethinode.com/license for more details.\n--\u003e\u003c/span\u003e\n\n{{ $error := false }}\n\n\u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- Validate arguments --\u003e\u003c/span\u003e\n{{ if partial \"utilities/IsInvalidArgs.html\" (dict \"structure\" \"map\" \"args\" .Params) }}\n    {{ errorf \"Invalid arguments: %s\" .Position -}}\n    {{ $error = true }}\n{{ end }}\n\n\u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- Initialize arguments --\u003e\u003c/span\u003e\n\n{{- $id := printf \"leaflet-map-%d\" .Ordinal -}}\n{{ with index . \"id\" }}\n    {{ $id = . }}\n{{ end }}\n\n{{ $class := index . \"class\" | default \"ratio ratio-16x9 w-100 mx-auto\" }}\n\n{{ $error := false }}\n{{ $viewLat := 52.377 }}\n{{ $viewLong := 4.90 }}\n{{ $zoom := 13 }}\n{{ $popup := \"\" }}\n{{ $popupLat := \"\"  }}\n{{ $popupLong := \"\" }}\n\n{{- with index . \"lat\" }}{{ $viewLat = . }}{{ end -}}\n{{- with index . \"long\" }}{{ $viewLong = . }}{{ end -}}\n{{- with index . \"zoom\" }}{{ $zoom = . }}{{ end -}}\n{{- with index . \"popup\" }}{{ $popup = . }}{{ end -}}\n{{- with index . \"popup-lat\" }}{{ $popupLat = . }}{{ end -}}\n{{- with index . \"popup-long\" }}{{ $popupLong = . }}{{ end -}}\n\n{{- if not $error -}}\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eid\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ $id }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eleaflet-map {{ $class }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n      \u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ewith\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e$viewLat\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}data-leaflet-view-lat\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ index $viewLat 0 }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eend\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}\u003c/span\u003e\n      \u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ewith\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e$viewLong\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}data-leaflet-view-long\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ index $viewLong 0 }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eend\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}\u003c/span\u003e\n      \u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ewith\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e$zoom\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}data-leaflet-view-zoom\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e{{ . }}\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eend\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}\u003c/span\u003e\n      \u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ewith\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e$popup\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}\u003c/span\u003e\n        \u003cspan class=\"token attr-name\"\u003edata-leaflet-popup-caption\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e'\u003c/span\u003e{{ jsonify $popup }}\u003cspan class=\"token punctuation\"\u003e'\u003c/span\u003e\u003c/span\u003e\n        \u003cspan class=\"token attr-name\"\u003edata-leaflet-popup-lat\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e'\u003c/span\u003e{{ jsonify $popupLat }}\u003cspan class=\"token punctuation\"\u003e'\u003c/span\u003e\u003c/span\u003e\n        \u003cspan class=\"token attr-name\"\u003edata-leaflet-popup-long\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e'\u003c/span\u003e{{ jsonify $popupLong }}\u003cspan class=\"token punctuation\"\u003e'\u003c/span\u003e\u003c/span\u003e\n      \u003cspan class=\"token attr-name\"\u003e{{\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eend\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e}}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n{{- end -}}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eLet's try to make it work for multiple markers and popups.\u003c/p\u003e\n\u003cp\u003eIt should handle the cases where there is only one marker and popup as well as the cases where there are multiple markers and popups.\u003c/p\u003e\n\u003cp\u003eThat is when value of latitude and longitude are arrays and when the value of popup is an array, or when the value of latitude and longitude are single values and the value of popup is a single value.\u003c/p\u003e\n\u003cp\u003eEg.\u003c/p\u003e\n\u003cpre class=\"language-yaml\"\u003e\u003ccode class=\"language-yaml\"\u003e\u003cspan class=\"token punctuation\"\u003e---\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003etitle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Pierre\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eMarie Allard\n\u003cspan class=\"token key atrule\"\u003efirstname\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Pierre\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eMarie\n\u003cspan class=\"token key atrule\"\u003elastname\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e allardpm\n\u003cspan class=\"token key atrule\"\u003elatitude\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e52.377\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e52.378\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003elongitude\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e4.900\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4.901\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003epopup\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"Amsterdam Central Station is it here?\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Amsterdam Central Station is it here?\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e---\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eor\u003c/p\u003e\n\u003cpre class=\"language-yaml\"\u003e\u003ccode class=\"language-yaml\"\u003e\u003cspan class=\"token punctuation\"\u003e---\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003etitle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Pierre\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eMarie Allard\n\u003cspan class=\"token key atrule\"\u003efirstname\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Pierre\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eMarie\n\u003cspan class=\"token key atrule\"\u003elastname\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e allardpm\n\u003cspan class=\"token key atrule\"\u003elatitude\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e52.377\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003elongitude\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e4.900\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003epopup\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Amsterdam Central Station is it here?\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e---\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIt's working ! Almost good :)\nI can now display the multiple markers.\u003c/p\u003e\n\u003cp\u003eOne thing is not OK is that I can view all popups. I can only view the last one.\u003c/p\u003e\n\u003cp\u003eDoes this has to do with \u003c/p\u003e\n\u003cp\u003econst attribution = '© \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors'\nconst tile = '\u003ca href=\"https://tile.openstreetmap.org/%7Bz%7D/%7Bx%7D/%7By%7D.png\u0026#x27;\"\u003ehttps://tile.openstreetmap.org/{z}/{x}/{y}.png'\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003edocument.querySelectorAll('div.leaflet-map').forEach(map =\u003e {\nconst viewLat = map.getAttribute('data-leaflet-view-lat')\nconst viewLong = map.getAttribute('data-leaflet-view-long')\nconst zoom = map.getAttribute('data-leaflet-view-zoom')\nconst popupData = map.getAttribute('data-leaflet-popup-caption')  // This will now store a JSON string\u003c/p\u003e\n\u003cp\u003e  if (viewLat === null || viewLong === null || zoom === null) {\nconsole.error('leaflet-map.js: expected lat, long, and zoom')\n} else {\nconst bind = L.map(map).setView([viewLat, viewLong], zoom)\nL.tileLayer(tile, { attribution }).addTo(bind)\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// Parse popupData as an array\nconst popups = popupData ? JSON.parse(popupData) : []\nconst popupLatitudes = map.getAttribute('data-leaflet-popup-lat') ? JSON.parse(map.getAttribute('data-leaflet-popup-lat')) : []\nconst popupLongitudes = map.getAttribute('data-leaflet-popup-long') ? JSON.parse(map.getAttribute('data-leaflet-popup-long')) : []\n\nif (popups.length \u0026#x26;\u0026#x26; popupLatitudes.length \u0026#x26;\u0026#x26; popupLongitudes.length) {\n  for (let i = 0; i \u0026#x3C; popups.length; i++) {\n    if (popupLatitudes[i] \u0026#x26;\u0026#x26; popupLongitudes[i]) {\n      L.marker([popupLatitudes[i], popupLongitudes[i]]).addTo(bind)\n        .bindPopup(popups[i])\n        .openPopup()\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e  }\n})\u003c/p\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/dendron-emi/notes/fvi2bh4uisut81x5q21bjf0\"\u003e2024-10-07\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"3rbfqqbp7pwbkdcrgc97u7l","title":"The Earth Metabolome Initiative","desc":"","updated":1671988421333,"created":1671985562294,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"dendron-emi"},"contentHash":"4a9583a0623e72b112fd491979429bc1","links":[{"type":"wiki","from":{"fname":"root","id":"3rbfqqbp7pwbkdcrgc97u7l","vaultName":"dendron-emi"},"value":"dendron","position":{"start":{"line":4,"column":69,"offset":257},"end":{"line":4,"column":83,"offset":271},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"dendron"}}],"anchors":{"welcome-to-the-earth-metabolome-initiative-dendron-notes":{"type":"header","text":"Welcome to the Earth Metabolome Initiative Dendron notes","value":"welcome-to-the-earth-metabolome-initiative-dendron-notes","line":7,"column":0,"depth":1},"what-is-the-earth-metabolome-initiative-":{"type":"header","text":"What is the Earth Metabolome Initiative ?","value":"what-is-the-earth-metabolome-initiative-","line":12,"column":0,"depth":1},"how-is-it-related-to-the-digital-botanical-gardens-initiative-":{"type":"header","text":"How is it related to the Digital Botanical Gardens Initiative ?","value":"how-is-it-related-to-the-digital-botanical-gardens-initiative-","line":19,"column":0,"depth":1},"an-open-science-project":{"type":"header","text":"An Open Science project","value":"an-open-science-project","line":24,"column":0,"depth":1},"working-with-the-garage-door-up":{"type":"header","text":"Working with the garage door up","value":"working-with-the-garage-door-up","line":26,"column":0,"depth":2},"open-notebook-science":{"type":"header","text":"Open Notebook Science","value":"open-notebook-science","line":32,"column":0,"depth":2}},"children":["vrae5dt51ddpchgp8ny78cp","l03fwlci5f5rdpot3v7oli6","ifd39krpwjbpoujotes8k8e","4ukw0m9fnolvo16alfg228n","s1ylfmp2pclqnwyr7c4kf7i","gug1zw6wdzvta1evuzc5nut","gz9usdkc2az543npdnopxrs","fzeg276w1meifz5qyccsd4s","yvialv0y265tyn1u4xxygn6","smclm9qks60i3brdytv436w","em044ww0x12gvshkq9s1gp6","3yuaegcggymmvr8og84zkur","cg7slewy3y8h81yvqfao1xt"],"parent":null,"data":{},"body":"# Welcome to the Earth Metabolome Initiative Dendron notes\n\nDendron is the knowledge management system we use in the EMI. We use it specifically to manage notes, lab-books and share ideas.\nIf you want to know more about Dendron, have a look at this section [[dendron.md]].\n\n# What is the Earth Metabolome Initiative ?\n\n\n![](/assets/images/EMI_logo_round.png){max-width: 300px, display: block, margin: 0 auto}\n\nThe Earth Metabolome Initiative, abbreviated EMI, is an Open Science initiative and a global effort to profile the metabolic content of all currently known species on our planet (~2.3 million species). We are building the required computational, scientific and organizational architecture to establish the network of ressources and humans to advance in this massive undertaking. The EMI will explore the chemical foundations of Life for a better human society within a thriving biosphere.\n\n# How is it related to the Digital Botanical Gardens Initiative ?\n\nWe have started the Digital Botanical Gardens Initiative, abbreviated DBGI, as a pilot project for the EMI. You can find more details about the DBGI at \u003chttps://www.dbgi.org/dendron-dbgi\u003e.\n\n\n# An Open Science project\n\n## Working with the garage door up\n\nA way of working briefly described by Andy Matuschak here https://notes.andymatuschak.org/z21cgR9K3UcQ5a7yPsj2RUim3oM2TzdBByZu.\n\n![](/assets/images/2022-12-25-18-13-17.png){max-width: 400px}\n\n## Open Notebook Science\n\nIf we apply this \"working with the garage door up\" idea to a scientific research endeavor, we understand it as respecting the core concepts of open-science. These are in fact the principles of Open Notebook Science https://en.wikipedia.org/wiki/Open-notebook_science.\n\nFor the projects of the DBGI, we will follow this approach in order to share early ideas and results but also the less shiny parts of the research projects. \nExpect to find strange ideas, badly formulated text and poorly written code. However if you have time and interest, you should be able to participate at each step of the process. Hopefully, this will lead to enhanced collaboration and participation. Maybe yes, maybe not. Let's make it a methodological experiment!\n\nThe pages of this website are written in Markdown and hosted on Github. You can edit them by clicking on the \"Click here to edit this page on Github !\" link at the bottom of the page\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"dendron-emi"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal Knowledge Space"},"github":{"enableEditLink":true,"editLinkText":"Feel free to participate and click here to edit this page on Github !","editBranch":"main","editViewMode":"tree","editRepository":"https://github.com/earth-metabolome-initiative/dendron-emi"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","siteUrl":"https://earth-metabolome-initiative.github.io","assetsPrefix":"/dendron-emi","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"b72s2o287supid1wnu0o30i"},"buildId":"mg4gUYzPgp4Fi2pR6ElfI","assetPrefix":"/dendron-emi","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>